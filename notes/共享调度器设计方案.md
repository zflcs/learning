### 设计方案

#### 内核中的设计：

##### 优先级

- Task 增加优先级字段，每次陷入内核时，更新当前 Task 对应的进程组的所有 Task 的优先级，如果其中某个 Task 正在运行，则不这个 Task 更新。
- 内核中增加共享调度器的数据结构，保存函数指针，两个就绪队列，一个是所有进程的优先级队列，另一个是内核中所有协程的优先级队列。在其中维护全局优先级位图，并共享只读权限给所有 Task
- 全局位图数据结构
    - 


##### Executor 设计

- 改成无锁队列，不需要优先级位图，只维护最高优先级字段
    - MPMC + AtomicUsize 实现带有 is_empty 的无锁队列，尽管中间的操作时分离的，但是不会影响正确性
- 最高优先级字段的维护
    - 添加新协程时，目标优先级队列如果为空，且比当前优先级高，则更新
    - 取出协程不进行更新，协程执行结束后判断进行更新
    - 删除协程时，不需要对更新，因为在协程执行结束之后就会更新
- 不再使用 map，直接在队列中保存 CCB 数据结构