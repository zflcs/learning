## NVM 调研

### 优点

- 字节寻址（可直接挂在内存总线上，CPU 高速缓存直接与持久性外存交互，需要保证**一致性**）
- 延迟下降

### 发挥 NVM 优势的两种途径

- 持久性堆的管理模式
- 文件系统的外存管理模式

### 为什么没有作为内存使用？

- 写延迟、功耗高、写入次数有限、价格贵、数据一致性问题、软件生态

单级存储结构比二级存储结构功耗低，即使二级存储结构全部使用 NVM；实现单级存储，系统软件栈的挑战较大

### 提高持久化内存访问性能的做法

- 硬盘内存化，将硬盘内的数据先读取到硬盘
- 优化文件系统，尽可能减少软件开销

### 降低软件栈开销的主要方法

- 精简存储层次，减少拷贝
- 用户程序直接访问 NVM
- 精细化 I/O 操作
- kernel/user 两级协同文件系统

### 内存管理与文件系统的融合

- 利用 MMU 加速文件系统的访问
- 在内存管理中扩展对持久性的支持